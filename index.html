<!DOCTYPE html>
<html>
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏û‡∏∞‡πÄ‡∏¢‡∏≤‡∏£‡∏≤‡∏° - Google Apps Script</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-orange {
            background: linear-gradient(135deg, #fed7aa, #fb923c);
        }
        .sidebar-gradient {
            background: linear-gradient(180deg, #fb923c, #ea580c);
        }
        .login-gradient {
            background: linear-gradient(135deg, #fb923c, #ea580c);
        }
        .swal2-popup {
            font-family: 'Sarabun', sans-serif !important;
        }
        #sidebar, #mainContent {
            transition: all 0.3s ease-in-out;
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .nav-item.active {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #fb923c;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-orange-100 font-sans">
    <!-- Login Page -->
    <div id="loginPage" class="min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <div class="text-center">
                <h1 class="text-4xl font-bold text-orange-600 mb-2">üçú</h1>
                <h2 class="text-3xl font-bold text-gray-900">‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏û‡∏∞‡πÄ‡∏¢‡∏≤‡∏£‡∏≤‡∏°</h2>
                <p class="mt-2 text-sm text-gray-600">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
            </div>
            <div class="bg-white rounded-lg shadow-lg p-8">
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
                        <input type="text" id="username" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                    </div>
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                        <input type="password" id="password" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500" required>
                    </div>
                    <button type="submit" class="w-full login-gradient text-white py-3 px-4 rounded-lg hover:opacity-90 transition-opacity font-medium">
                        <span id="loginText">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</span>
                        <span id="loginLoading" class="loading hidden"></span>
                    </button>
                </form>
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <h3 class="font-medium text-gray-700 mb-2">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</h3>
                    <div class="text-sm text-gray-600 space-y-1">
                        <p><strong>Admin:</strong> admin / pyr054411111</p>
                        <p><strong>User ‡∏Ç‡∏≤‡∏¢:</strong> user / user123</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="flex h-full bg-gray-100 hidden">
        <!-- Sidebar -->
        <div id="sidebar" class="fixed inset-y-0 left-0 z-30 w-64 sidebar-gradient text-white shadow-lg transform -translate-x-full md:relative md:translate-x-0 flex flex-col">
            <div class="p-6 flex-shrink-0">
                <h1 class="text-xl font-bold mb-4">üçú ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏û‡∏∞‡πÄ‡∏¢‡∏≤‡∏£‡∏≤‡∏°</h1>
                <div class="mb-6 p-3 bg-orange-600 rounded-lg">
                    <p class="text-sm">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: <span id="currentUser" class="font-medium"></span></p>
                    <p class="text-xs opacity-75">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå: <span id="currentRole" class="font-medium"></span></p>
                </div>
            </div>

            <nav class="flex-1 px-4 space-y-2 overflow-y-auto" id="navigation">
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg active" data-page="dashboard">
                    <span class="mr-3">üìä</span>
                    <span>‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î</span>
                </a>
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg admin-only" data-page="orders">
                    <span class="mr-3">üõí</span>
                    <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</span>
                </a>
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg" data-page="pos">
                    <span class="mr-3">üí∞</span>
                    <span>‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span>
                </a>
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg admin-only" data-page="menu">
                    <span class="mr-3">üçΩÔ∏è</span>
                    <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π</span>
                </a>
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg admin-only" data-page="inventory">
                    <span class="mr-3">üì¶</span>
                    <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å</span>
                </a>
                <a href="#" class="nav-item flex items-center px-4 py-3 rounded-lg admin-only" data-page="reports">
                    <span class="mr-3">üìà</span>
                    <span>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</span>
                </a>
            </nav>

            <div class="p-4 border-t border-orange-600">
                <button id="logoutBtn" class="w-full flex items-center justify-center px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors">
                    <span class="mr-2">üö™</span>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </button>
            </div>
        </div>

        <!-- Mobile menu button -->
        <div class="md:hidden fixed top-4 left-4 z-40">
            <button id="mobileMenuBtn" class="bg-orange-600 text-white p-2 rounded-lg shadow-lg">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>

        <!-- Main Content -->
        <div id="mainContent" class="flex-1 flex flex-col overflow-hidden">
            <!-- Dashboard Page -->
            <div id="dashboardPage" class="page-content flex-1 p-6 overflow-y-auto">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">‡πÅ‡∏îsh‡∏ö‡∏≠‡∏£‡πå‡∏î</h2>
                    <p class="text-gray-600">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <div class="flex items-center">
                            <div class="p-3 bg-green-100 rounded-full">
                                <span class="text-2xl">üí∞</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                                <p class="text-2xl font-bold text-green-600" id="todaySales">‡∏ø0</p>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <div class="flex items-center">
                            <div class="p-3 bg-blue-100 rounded-full">
                                <span class="text-2xl">üõí</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                                <p class="text-2xl font-bold text-blue-600" id="todayOrders">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <div class="flex items-center">
                            <div class="p-3 bg-yellow-100 rounded-full">
                                <span class="text-2xl">‚è≥</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600">‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏≠</p>
                                <p class="text-2xl font-bold text-yellow-600" id="pendingOrders">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="card bg-white rounded-lg shadow-md p-6">
                        <div class="flex items-center">
                            <div class="p-3 bg-purple-100 rounded-full">
                                <span class="text-2xl">üçΩÔ∏è</span>
                            </div>
                            <div class="ml-4">
                                <p class="text-sm text-gray-600">‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                <p class="text-2xl font-bold text-purple-600" id="totalMenus">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (7 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)</h3>
                        <div class="h-64">
                            <canvas id="salesChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-lg font-semibold mb-4">‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h3>
                        <div class="h-64">
                            <canvas id="popularMenuChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- POS (Point of Sale) Page -->
            <div id="posPage" class="page-content flex-1 p-6 overflow-y-auto hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">‡∏Ç‡∏≤‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
                    <p class="text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡πÉ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Menu Selection -->
                    <div class="lg:col-span-2">
                        <!-- Category Filter -->
                        <div class="mb-4">
                            <div class="flex flex-wrap gap-2">
                                <button class="category-btn bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium" data-category="all">
                                    ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                                </button>
                                <button class="category-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-category="‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß">
                                    ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
                                </button>
                                <button class="category-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-category="‡πÅ‡∏Å‡∏á/‡∏ï‡πâ‡∏°">
                                    ‡πÅ‡∏Å‡∏á/‡∏ï‡πâ‡∏°
                                </button>
                                <button class="category-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-category="‡∏¢‡∏≥/‡∏™‡∏•‡∏±‡∏î">
                                    ‡∏¢‡∏≥/‡∏™‡∏•‡∏±‡∏î
                                </button>
                                <button class="category-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300" data-category="‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°">
                                    ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°
                                </button>
                            </div>
                        </div>

                        <!-- Menu Grid -->
                        <div id="posMenuGrid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <!-- Menu items will be populated here -->
                        </div>
                    </div>

                    <!-- Order Summary -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-lg shadow-md p-6 sticky top-6">
                            <h3 class="text-lg font-semibold mb-4">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h3>
                            
                            <!-- Customer Info -->
                            <div class="mb-4">
                                <label for="customerName" class="block text-sm font-medium text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label>
                                <input type="text" id="customerName" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                            </div>

                            <!-- Payment Method -->
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-gray-700 mb-2">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="radio" name="paymentMethod" value="cash" class="mr-2 text-orange-600 focus:ring-orange-500" checked>
                                        <span class="text-sm">üíµ ‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="radio" name="paymentMethod" value="transfer" class="mr-2 text-orange-600 focus:ring-orange-500">
                                        <span class="text-sm">üè¶ ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Cash Payment Details -->
                            <div id="cashPaymentSection" class="mb-4 p-3 bg-orange-50 rounded-lg border border-orange-200">
                                <label for="cashAmount" class="block text-sm font-medium text-gray-700 mb-2">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</label>
                                <input type="number" id="cashAmount" placeholder="0" class="w-full p-2 border border-gray-300 rounded-lg text-sm mb-3" min="0" step="1">
                                
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞:</span>
                                        <span id="paymentTotal" class="font-medium">‡∏ø0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö:</span>
                                        <span id="cashReceived" class="font-medium">‡∏ø0</span>
                                    </div>
                                    <div class="flex justify-between border-t pt-2">
                                        <span class="font-medium">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:</span>
                                        <span id="changeAmount" class="font-bold text-green-600">‡∏ø0</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Items -->
                            <div id="orderItems" class="space-y-3 mb-4 max-h-60 overflow-y-auto">
                                <div class="text-center text-gray-500 py-8">
                                    <span class="text-4xl mb-2 block">üõí</span>
                                    <p class="text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
                                </div>
                            </div>

                            <!-- Order Total -->
                            <div class="border-t pt-4">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm text-gray-600">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</span>
                                    <span id="totalItems" class="text-sm font-medium">0</span>
                                </div>
                                <div class="flex justify-between items-center mb-4">
                                    <span class="text-lg font-semibold">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</span>
                                    <span id="totalAmount" class="text-xl font-bold text-orange-600">‡∏ø0</span>
                                </div>

                                <!-- Action Buttons -->
                                <div class="space-y-2">
                                    <button id="clearOrderBtn" class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors text-sm">
                                        üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
                                    </button>
                                    <button id="submitOrderBtn" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg transition-colors font-medium disabled:bg-gray-300 disabled:cursor-not-allowed" disabled>
                                        ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders Page -->
            <div id="ordersPage" class="page-content flex-1 p-6 overflow-y-auto hidden">
                <div class="mb-6 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</h2>
                        <p class="text-gray-600">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    </div>
                    <button id="addOrderBtn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <span class="mr-2">‚ûï</span>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå
                    </button>
                </div>

                <!-- Order Filters -->
                <div class="bg-white rounded-lg shadow-md p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label for="orderStatus" class="block text-sm font-medium text-gray-700 mb-1">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
                            <select id="orderStatus" class="w-full p-2 border border-gray-300 rounded-lg">
                                <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                                <option value="pending">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
                                <option value="preparing">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°</option>
                                <option value="ready">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</option>
                                <option value="completed">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                            </select>
                        </div>
                        <div>
                            <label for="orderDate" class="block text-sm font-medium text-gray-700 mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
                            <input type="date" id="orderDate" class="w-full p-2 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label for="orderSearch" class="block text-sm font-medium text-gray-700 mb-1">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</label>
                            <input type="text" id="orderSearch" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤" class="w-full p-2 border border-gray-300 rounded-lg">
                        </div>
                        <div class="flex items-end">
                            <button id="refreshOrdersBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                                üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Orders List -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡πÄ‡∏ß‡∏•‡∏≤</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTableBody" class="bg-white divide-y divide-gray-200">
                                <!-- Orders will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Menu Page -->
            <div id="menuPage" class="page-content flex-1 p-6 overflow-y-auto hidden">
                <div class="mb-6 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π</h2>
                        <p class="text-gray-600">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                    </div>
                    <button id="addMenuBtn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <span class="mr-2">‚ûï</span>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π
                    </button>
                </div>

                <!-- Menu Grid -->
                <div id="menuGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Menu items will be populated here -->
                </div>
            </div>

            <!-- Inventory Page -->
            <div id="inventoryPage" class="page-content flex-1 p-6 overflow-y-auto hidden">
                <div class="mb-6 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å</h2>
                        <p class="text-gray-600">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
                    </div>
                    <button id="addInventoryBtn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors">
                        <span class="mr-2">‚ûï</span>
                        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                    </button>
                </div>

                <!-- Inventory Table -->
                <div class="bg-white rounded-lg shadow-md overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryTableBody" class="bg-white divide-y divide-gray-200">
                                <!-- Inventory items will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reportsPage" class="page-content flex-1 p-6 overflow-y-auto hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h2>
                    <p class="text-gray-600">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢</p>
                </div>

                <!-- Report Filters -->
                <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label for="reportStartDate" class="block text-sm font-medium text-gray-700 mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                            <input type="date" id="reportStartDate" class="w-full p-2 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label for="reportEndDate" class="block text-sm font-medium text-gray-700 mb-1">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                            <input type="date" id="reportEndDate" class="w-full p-2 border border-gray-300 rounded-lg">
                        </div>
                        <div class="flex items-end">
                            <button id="generateReportBtn" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                                üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Report Results -->
                <div id="reportResults" class="space-y-6">
                    <!-- Report content will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentRole = null;
        let orders = [];
        let menus = [];
        let inventory = [];

        // Google Apps Script Configuration
        const GAS_CONFIG = {
            // Google Apps Script Web App URL
            webAppUrl: 'https://script.google.com/macros/s/AKfycbydfbBj7rRsmK88kLmRh8jO9icF45jvtxQIRaJrL5S0jqqQ61pjsEg0bY7hvanFfnjAEQ/exec',
            // Deployment URL (same as webAppUrl in this case)
            deploymentUrl: 'https://script.google.com/macros/s/AKfycbydfbBj7rRsmK88kLmRh8jO9icF45jvtxQIRaJrL5S0jqqQ61pjsEg0bY7hvanFfnjAEQ/exec'
        };

        // Google Sheets API functions
        class GoogleSheetsAPI {
            static async callGAS(action, data = {}) {
                try {
                    const response = await fetch(GAS_CONFIG.webAppUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            action: action,
                            data: data
                        })
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    
                    const result = await response.json();
                    return result;
                } catch (error) {
                    console.error('Error calling Google Apps Script:', error);
                    // Return mock data for demo purposes
                    return this.getMockData(action, data);
                }
            }

            static getMockData(action, data) {
                // Mock data for demonstration when Google Apps Script is not available
                switch (action) {
                    case 'login':
                        if (data.username === 'admin' && data.password === 'pyr054411111') {
                            return { success: true, user: { username: 'admin', role: 'admin' } };
                        } else if (data.username === 'user' && data.password === 'user123') {
                            return { success: true, user: { username: 'user', role: 'user' } };
                        }
                        return { success: false, message: '‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' };
                    
                    case 'getDashboardData':
                        return {
                            success: true,
                            data: {
                                todaySales: 15420,
                                todayOrders: 28,
                                pendingOrders: 5,
                                totalMenus: 45,
                                salesChart: [2100, 2800, 3200, 2900, 3500, 4100, 3800],
                                popularMenus: ['‡∏ú‡∏±‡∏î‡πÑ‡∏ó‡∏¢', '‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á', '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î', '‡∏™‡πâ‡∏°‡∏ï‡∏≥', '‡πÅ‡∏Å‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏ß‡∏≤‡∏ô']
                            }
                        };
                    
                    case 'getOrders':
                        return {
                            success: true,
                            data: [
                                {
                                    id: 'ORD001',
                                    customer: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢',
                                    items: '‡∏ú‡∏±‡∏î‡πÑ‡∏ó‡∏¢ x2, ‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á x1',
                                    total: 280,
                                    status: 'pending',
                                    time: '14:30'
                                },
                                {
                                    id: 'ORD002',
                                    customer: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á',
                                    items: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î x1, ‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏° x1',
                                    total: 120,
                                    status: 'preparing',
                                    time: '14:25'
                                }
                            ]
                        };
                    
                    case 'getMenus':
                        return {
                            success: true,
                            data: [
                                { id: 1, name: '‡∏ú‡∏±‡∏î‡πÑ‡∏ó‡∏¢', price: 80, category: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', available: true, image: 'üçú' },
                                { id: 2, name: '‡∏ï‡πâ‡∏°‡∏¢‡∏≥‡∏Å‡∏∏‡πâ‡∏á', price: 120, category: '‡πÅ‡∏Å‡∏á/‡∏ï‡πâ‡∏°', available: true, image: 'üç≤' },
                                { id: 3, name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î', price: 60, category: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', available: true, image: 'üçõ' },
                                { id: 4, name: '‡∏™‡πâ‡∏°‡∏ï‡∏≥', price: 50, category: '‡∏¢‡∏≥/‡∏™‡∏•‡∏±‡∏î', available: true, image: 'ü•ó' },
                                { id: 5, name: '‡πÅ‡∏Å‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏ß‡∏≤‡∏ô', price: 100, category: '‡πÅ‡∏Å‡∏á/‡∏ï‡πâ‡∏°', available: true, image: 'üçõ' },
                                { id: 6, name: '‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π', price: 70, category: '‡∏¢‡∏≥/‡∏™‡∏•‡∏±‡∏î', available: true, image: 'ü•ô' },
                                { id: 7, name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ã‡∏≠‡∏¢', price: 65, category: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', available: true, image: 'üçú' },
                                { id: 8, name: '‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°', price: 25, category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', available: true, image: 'üßÉ' },
                                { id: 9, name: '‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á‡πÉ‡∏™', price: 20, category: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', available: true, image: 'üßä' },
                                { id: 10, name: '‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π', price: 75, category: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß', available: true, image: 'üçõ' }
                            ]
                        };
                    
                    case 'getInventory':
                        return {
                            success: true,
                            data: [
                                { id: 1, name: '‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡∏±‡∏î‡πÑ‡∏ó‡∏¢', unit: '‡∏Å‡∏Å.', current: 15, minimum: 5, status: 'normal' },
                                { id: 2, name: '‡∏Å‡∏∏‡πâ‡∏á‡∏™‡∏î', unit: '‡∏Å‡∏Å.', current: 3, minimum: 5, status: 'low' },
                                { id: 3, name: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä', unit: '‡∏•‡∏¥‡∏ï‡∏£', current: 8, minimum: 3, status: 'normal' }
                            ]
                        };
                    
                    default:
                        return { success: true, data: {} };
                }
            }

            // Specific API methods
            static async login(username, password) {
                return await this.callGAS('login', { username, password });
            }

            static async getDashboardData() {
                return await this.callGAS('getDashboardData');
            }

            static async getOrders(filters = {}) {
                return await this.callGAS('getOrders', filters);
            }

            static async addOrder(orderData) {
                return await this.callGAS('addOrder', orderData);
            }

            static async updateOrderStatus(orderId, status) {
                return await this.callGAS('updateOrderStatus', { orderId, status });
            }

            static async getMenus() {
                return await this.callGAS('getMenus');
            }

            static async addMenu(menuData) {
                return await this.callGAS('addMenu', menuData);
            }

            static async updateMenu(menuId, menuData) {
                return await this.callGAS('updateMenu', { menuId, ...menuData });
            }

            static async deleteMenu(menuId) {
                return await this.callGAS('deleteMenu', { menuId });
            }

            static async getInventory() {
                return await this.callGAS('getInventory');
            }

            static async addInventoryItem(itemData) {
                return await this.callGAS('addInventoryItem', itemData);
            }

            static async updateInventory(itemId, itemData) {
                return await this.callGAS('updateInventory', { itemId, ...itemData });
            }

            static async generateReport(startDate, endDate) {
                return await this.callGAS('generateReport', { startDate, endDate });
            }
        }

        // Authentication
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Show loading
            document.getElementById('loginText').classList.add('hidden');
            document.getElementById('loginLoading').classList.remove('hidden');
            
            try {
                const result = await GoogleSheetsAPI.login(username, password);
                
                if (result.success) {
                    currentUser = result.user.username;
                    currentRole = result.user.role;
                    
                    document.getElementById('currentUser').textContent = currentUser;
                    document.getElementById('currentRole').textContent = currentRole === 'admin' ? '‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö' : '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';
                    
                    // Hide admin-only menu items for regular users
                    updateMenuVisibility();
                    
                    document.getElementById('loginPage').classList.add('hidden');
                    document.getElementById('mainApp').classList.remove('hidden');
                    
                    // Load dashboard data
                    await loadDashboard();
                    
                    Swal.fire({
                        icon: 'success',
                        title: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
                        text: `‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ${currentUser}`,
                        timer: 2000,
                        showConfirmButton: false
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
                        text: result.message || '‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'
                    });
                }
            } catch (error) {
                console.error('Login error:', error);
                Swal.fire({
                    icon: 'error',
                    title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                    text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á'
                });
            } finally {
                // Hide loading
                document.getElementById('loginText').classList.remove('hidden');
                document.getElementById('loginLoading').classList.add('hidden');
            }
        });

        // Update menu visibility based on user role
        function updateMenuVisibility() {
            const adminOnlyItems = document.querySelectorAll('.admin-only');
            if (currentRole !== 'admin') {
                adminOnlyItems.forEach(item => {
                    item.style.display = 'none';
                });
                
                // If user is not admin, redirect to POS page instead of dashboard
                showPage('pos');
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                document.querySelector('[data-page="pos"]').classList.add('active');
            } else {
                adminOnlyItems.forEach(item => {
                    item.style.display = 'flex';
                });
            }
        }

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding page
                const page = this.dataset.page;
                showPage(page);
            });
        });

        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
            
            // Show selected page
            document.getElementById(page + 'Page').classList.remove('hidden');
            
            // Load page data
            switch (page) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'pos':
                    loadPOS();
                    break;
                case 'orders':
                    loadOrders();
                    break;
                case 'menu':
                    loadMenus();
                    break;
                case 'inventory':
                    loadInventory();
                    break;
                case 'reports':
                    loadReports();
                    break;
            }
        }

        // Dashboard functions
        async function loadDashboard() {
            try {
                const result = await GoogleSheetsAPI.getDashboardData();
                
                if (result.success) {
                    const data = result.data;
                    
                    // Update stats
                    document.getElementById('todaySales').textContent = `‡∏ø${data.todaySales.toLocaleString()}`;
                    document.getElementById('todayOrders').textContent = data.todayOrders;
                    document.getElementById('pendingOrders').textContent = data.pendingOrders;
                    document.getElementById('totalMenus').textContent = data.totalMenus;
                    
                    // Update charts
                    updateSalesChart(data.salesChart);
                    updatePopularMenuChart(data.popularMenus);
                }
            } catch (error) {
                console.error('Error loading dashboard:', error);
            }
        }

        function updateSalesChart(data) {
            const ctx = document.getElementById('salesChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™', '‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡πÄ‡∏™‡∏≤‡∏£‡πå', '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå'],
                    datasets: [{
                        label: '‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó)',
                        data: data,
                        borderColor: '#fb923c',
                        backgroundColor: 'rgba(251, 146, 60, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function updatePopularMenuChart(data) {
            const ctx = document.getElementById('popularMenuChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: data,
                    datasets: [{
                        data: [25, 20, 18, 15, 12],
                        backgroundColor: [
                            '#fb923c',
                            '#ea580c',
                            '#fed7aa',
                            '#fdba74',
                            '#f97316'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Orders functions
        async function loadOrders() {
            try {
                const result = await GoogleSheetsAPI.getOrders();
                
                if (result.success) {
                    orders = result.data;
                    displayOrders(orders);
                }
            } catch (error) {
                console.error('Error loading orders:', error);
            }
        }

        function displayOrders(ordersData) {
            const tbody = document.getElementById('ordersTableBody');
            tbody.innerHTML = '';
            
            ordersData.forEach(order => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${order.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${order.customer}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">${order.items}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">‡∏ø${order.total}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(order.status)}">
                            ${getStatusText(order.status)}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${order.time}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <select class="text-sm border border-gray-300 rounded px-2 py-1" onchange="updateOrderStatus('${order.id}', this.value)">
                            <option value="pending" ${order.status === 'pending' ? 'selected' : ''}>‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
                            <option value="preparing" ${order.status === 'preparing' ? 'selected' : ''}>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°</option>
                            <option value="ready" ${order.status === 'ready' ? 'selected' : ''}>‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</option>
                            <option value="completed" ${order.status === 'completed' ? 'selected' : ''}>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                        </select>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function getStatusColor(status) {
            switch (status) {
                case 'pending': return 'bg-yellow-100 text-yellow-800';
                case 'preparing': return 'bg-blue-100 text-blue-800';
                case 'ready': return 'bg-green-100 text-green-800';
                case 'completed': return 'bg-gray-100 text-gray-800';
                default: return 'bg-gray-100 text-gray-800';
            }
        }

        function getStatusText(status) {
            switch (status) {
                case 'pending': return '‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£';
                case 'preparing': return '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°';
                case 'ready': return '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü';
                case 'completed': return '‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô';
                default: return '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞';
            }
        }

        async function updateOrderStatus(orderId, newStatus) {
            try {
                const result = await GoogleSheetsAPI.updateOrderStatus(orderId, newStatus);
                
                if (result.success) {
                    Swal.fire({
                        icon: 'success',
                        title: '‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
                        timer: 1500,
                        showConfirmButton: false
                    });
                    
                    // Reload orders
                    await loadOrders();
                }
            } catch (error) {
                console.error('Error updating order status:', error);
            }
        }

        // Menu functions
        async function loadMenus() {
            try {
                const result = await GoogleSheetsAPI.getMenus();
                
                if (result.success) {
                    menus = result.data;
                    displayMenus(menus);
                }
            } catch (error) {
                console.error('Error loading menus:', error);
            }
        }

        function displayMenus(menusData) {
            const grid = document.getElementById('menuGrid');
            grid.innerHTML = '';
            
            menusData.forEach(menu => {
                const card = document.createElement('div');
                card.className = 'card bg-white rounded-lg shadow-md overflow-hidden';
                card.innerHTML = `
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-lg font-semibold text-gray-900">${menu.name}</h3>
                            <span class="px-2 py-1 text-xs font-semibold rounded-full ${menu.available ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                                ${menu.available ? '‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡∏≤‡∏¢' : '‡∏´‡∏°‡∏î'}
                            </span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ${menu.category}</p>
                        <p class="text-xl font-bold text-orange-600 mb-4">‡∏ø${menu.price}</p>
                        <div class="flex space-x-2">
                            <button onclick="editMenu(${menu.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded text-sm transition-colors">
                                ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                            </button>
                            <button onclick="deleteMenu(${menu.id})" class="flex-1 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm transition-colors">
                                ‡∏•‡∏ö
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Inventory functions
        async function loadInventory() {
            try {
                const result = await GoogleSheetsAPI.getInventory();
                
                if (result.success) {
                    inventory = result.data;
                    displayInventory(inventory);
                }
            } catch (error) {
                console.error('Error loading inventory:', error);
            }
        }

        function displayInventory(inventoryData) {
            const tbody = document.getElementById('inventoryTableBody');
            tbody.innerHTML = '';
            
            inventoryData.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${item.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.unit}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${item.current}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${item.minimum}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${item.status === 'low' ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}">
                            ${item.status === 'low' ? '‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥' : '‡∏õ‡∏Å‡∏ï‡∏¥'}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editInventory(${item.id})" class="text-blue-600 hover:text-blue-900 mr-3">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                        <button onclick="deleteInventory(${item.id})" class="text-red-600 hover:text-red-900">‡∏•‡∏ö</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // POS functions
        let currentOrder = [];
        let selectedCategory = 'all';

        async function loadPOS() {
            try {
                const result = await GoogleSheetsAPI.getMenus();
                
                if (result.success) {
                    menus = result.data;
                    displayPOSMenus(menus);
                    setupCategoryFilters();
                    setupPOSEventListeners();
                }
            } catch (error) {
                console.error('Error loading POS:', error);
            }
        }

        function displayPOSMenus(menusData) {
            const grid = document.getElementById('posMenuGrid');
            grid.innerHTML = '';
            
            const filteredMenus = selectedCategory === 'all' 
                ? menusData 
                : menusData.filter(menu => menu.category === selectedCategory);
            
            filteredMenus.forEach(menu => {
                if (!menu.available) return;
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow border-2 border-transparent hover:border-orange-300';
                card.innerHTML = `
                    <div class="text-center">
                        <div class="text-4xl mb-2">${menu.image}</div>
                        <h3 class="font-semibold text-gray-900 mb-1">${menu.name}</h3>
                        <p class="text-sm text-gray-600 mb-2">${menu.category}</p>
                        <p class="text-lg font-bold text-orange-600">‡∏ø${menu.price}</p>
                    </div>
                `;
                
                card.addEventListener('click', () => addToOrder(menu));
                grid.appendChild(card);
            });
        }

        function setupCategoryFilters() {
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active category button
                    document.querySelectorAll('.category-btn').forEach(b => {
                        b.classList.remove('bg-orange-600', 'text-white');
                        b.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    
                    this.classList.remove('bg-gray-200', 'text-gray-700');
                    this.classList.add('bg-orange-600', 'text-white');
                    
                    selectedCategory = this.dataset.category;
                    displayPOSMenus(menus);
                });
            });
        }

        function addToOrder(menu) {
            const existingItem = currentOrder.find(item => item.id === menu.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                currentOrder.push({
                    ...menu,
                    quantity: 1
                });
            }
            
            updateOrderDisplay();
        }

        function removeFromOrder(menuId) {
            currentOrder = currentOrder.filter(item => item.id !== menuId);
            updateOrderDisplay();
        }

        function updateQuantity(menuId, change) {
            const item = currentOrder.find(item => item.id === menuId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromOrder(menuId);
                } else {
                    updateOrderDisplay();
                }
            }
        }

        function updateOrderDisplay() {
            const orderItemsContainer = document.getElementById('orderItems');
            const totalItemsElement = document.getElementById('totalItems');
            const totalAmountElement = document.getElementById('totalAmount');
            const submitBtn = document.getElementById('submitOrderBtn');
            
            if (currentOrder.length === 0) {
                orderItemsContainer.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <span class="text-4xl mb-2 block">üõí</span>
                        <p class="text-sm">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
                    </div>
                `;
                totalItemsElement.textContent = '0';
                totalAmountElement.textContent = '‡∏ø0';
                submitBtn.disabled = true;
                updatePaymentCalculation();
                return;
            }
            
            orderItemsContainer.innerHTML = '';
            let totalItems = 0;
            let totalAmount = 0;
            
            currentOrder.forEach(item => {
                totalItems += item.quantity;
                totalAmount += item.price * item.quantity;
                
                const orderItem = document.createElement('div');
                orderItem.className = 'flex items-center justify-between p-3 bg-gray-50 rounded-lg';
                orderItem.innerHTML = `
                    <div class="flex-1">
                        <h4 class="font-medium text-sm">${item.name}</h4>
                        <p class="text-xs text-gray-600">‡∏ø${item.price} x ${item.quantity}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateQuantity(${item.id}, -1)" class="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600">-</button>
                        <span class="text-sm font-medium w-6 text-center">${item.quantity}</span>
                        <button onclick="updateQuantity(${item.id}, 1)" class="w-6 h-6 bg-green-500 text-white rounded-full text-xs hover:bg-green-600">+</button>
                    </div>
                `;
                orderItemsContainer.appendChild(orderItem);
            });
            
            totalItemsElement.textContent = totalItems;
            totalAmountElement.textContent = `‡∏ø${totalAmount.toLocaleString()}`;
            submitBtn.disabled = false;
            updatePaymentCalculation();
        }

        function updatePaymentCalculation() {
            const totalAmount = currentOrder.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const cashAmount = parseFloat(document.getElementById('cashAmount').value) || 0;
            const changeAmount = cashAmount - totalAmount;
            
            document.getElementById('paymentTotal').textContent = `‡∏ø${totalAmount.toLocaleString()}`;
            document.getElementById('cashReceived').textContent = `‡∏ø${cashAmount.toLocaleString()}`;
            
            if (changeAmount >= 0) {
                document.getElementById('changeAmount').textContent = `‡∏ø${changeAmount.toLocaleString()}`;
                document.getElementById('changeAmount').className = 'font-bold text-green-600';
            } else {
                document.getElementById('changeAmount').textContent = `‡∏ø${Math.abs(changeAmount).toLocaleString()}`;
                document.getElementById('changeAmount').className = 'font-bold text-red-600';
            }
        }

        function togglePaymentSection() {
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            const cashSection = document.getElementById('cashPaymentSection');
            
            if (paymentMethod === 'cash') {
                cashSection.style.display = 'block';
            } else {
                cashSection.style.display = 'none';
            }
        }

        function setupPOSEventListeners() {
            // Payment method change listener
            document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
                radio.addEventListener('change', togglePaymentSection);
            });

            // Cash amount input listener
            document.getElementById('cashAmount').addEventListener('input', updatePaymentCalculation);

            document.getElementById('clearOrderBtn').addEventListener('click', function() {
                if (currentOrder.length === 0) return;
                
                Swal.fire({
                    title: '‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå?',
                    text: '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonColor: '#d33',
                    cancelButtonColor: '#3085d6',
                    confirmButtonText: '‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå',
                    cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'
                }).then((result) => {
                    if (result.isConfirmed) {
                        currentOrder = [];
                        updateOrderDisplay();
                        document.getElementById('customerName').value = '';
                        document.getElementById('cashAmount').value = '';
                        document.querySelector('input[name="paymentMethod"][value="cash"]').checked = true;
                        togglePaymentSection();
                        
                        Swal.fire({
                            icon: 'success',
                            title: '‡∏•‡πâ‡∏≤‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß',
                            timer: 1500,
                            showConfirmButton: false
                        });
                    }
                });
            });

            document.getElementById('submitOrderBtn').addEventListener('click', async function() {
                if (currentOrder.length === 0) return;
                
                const customerName = document.getElementById('customerName').value || '‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';
                const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
                const paymentMethodText = paymentMethod === 'cash' ? '‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î' : '‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô';
                const totalAmount = currentOrder.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                
                // Validate cash payment
                if (paymentMethod === 'cash') {
                    const cashAmount = parseFloat(document.getElementById('cashAmount').value) || 0;
                    if (cashAmount < totalAmount) {
                        Swal.fire({
                            icon: 'warning',
                            title: '‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠',
                            text: `‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö ‡∏ø${cashAmount.toLocaleString()} ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞ ‡∏ø${totalAmount.toLocaleString()}`
                        });
                        return;
                    }
                }
                
                const cashAmount = paymentMethod === 'cash' ? parseFloat(document.getElementById('cashAmount').value) || 0 : 0;
                const changeAmount = paymentMethod === 'cash' ? cashAmount - totalAmount : 0;
                
                const orderData = {
                    customer: customerName,
                    items: currentOrder,
                    total: totalAmount,
                    paymentMethod: paymentMethod,
                    paymentMethodText: paymentMethodText,
                    cashAmount: cashAmount,
                    changeAmount: changeAmount,
                    timestamp: new Date().toISOString()
                };
                
                try {
                    const result = await GoogleSheetsAPI.addOrder(orderData);
                    
                    if (result.success) {
                        let confirmationHtml = `
                            <div class="text-left">
                                <p><strong>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</strong> ${customerName}</p>
                                <p><strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°:</strong> ‡∏ø${totalAmount.toLocaleString()}</p>
                                <p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:</strong> ${paymentMethodText}</p>
                        `;
                        
                        if (paymentMethod === 'cash') {
                            confirmationHtml += `
                                <p><strong>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö:</strong> ‡∏ø${cashAmount.toLocaleString()}</p>
                                <p><strong>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:</strong> <span class="text-green-600 font-bold">‡∏ø${changeAmount.toLocaleString()}</span></p>
                            `;
                        }
                        
                        confirmationHtml += '</div>';
                        
                        Swal.fire({
                            icon: 'success',
                            title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à',
                            html: confirmationHtml,
                            timer: 5000,
                            showConfirmButton: false
                        });
                        
                        // Clear order
                        currentOrder = [];
                        updateOrderDisplay();
                        document.getElementById('customerName').value = '';
                        document.getElementById('cashAmount').value = '';
                        document.querySelector('input[name="paymentMethod"][value="cash"]').checked = true;
                        togglePaymentSection();
                    }
                } catch (error) {
                    console.error('Error submitting order:', error);
                    Swal.fire({
                        icon: 'error',
                        title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
                        text: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ'
                    });
                }
            });
        }

        // Reports functions
        function loadReports() {
            // Set default dates
            const today = new Date();
            const lastWeek = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
            
            document.getElementById('reportStartDate').value = lastWeek.toISOString().split('T')[0];
            document.getElementById('reportEndDate').value = today.toISOString().split('T')[0];
        }

        // Event listeners
        document.getElementById('logoutBtn').addEventListener('click', function() {
            Swal.fire({
                title: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö?',
                text: '‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?',
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö',
                cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'
            }).then((result) => {
                if (result.isConfirmed) {
                    currentUser = null;
                    currentRole = null;
                    document.getElementById('mainApp').classList.add('hidden');
                    document.getElementById('loginPage').classList.remove('hidden');
                    document.getElementById('username').value = '';
                    document.getElementById('password').value = '';
                }
            });
        });

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        });

        // Refresh buttons
        document.getElementById('refreshOrdersBtn').addEventListener('click', loadOrders);

        // Add buttons (placeholder functions)
        document.getElementById('addOrderBtn').addEventListener('click', function() {
            Swal.fire('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        });

        document.getElementById('addMenuBtn').addEventListener('click', function() {
            Swal.fire('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        });

        document.getElementById('addInventoryBtn').addEventListener('click', function() {
            Swal.fire('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        });

        document.getElementById('generateReportBtn').addEventListener('click', function() {
            Swal.fire('‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ', '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        });

        // Placeholder functions for menu and inventory management
        function editMenu(id) {
            Swal.fire('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏ô‡∏π', '‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function deleteMenu(id) {
            Swal.fire('‡∏•‡∏ö‡πÄ‡∏°‡∏ô‡∏π', '‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function editInventory(id) {
            Swal.fire('‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏ï‡πá‡∏≠‡∏Å', '‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        function deleteInventory(id) {
            Swal.fire('‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£', '‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤', 'info');
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Set focus on username field
            document.getElementById('username').focus();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'991551bba4418941',t:'MTc2MDkyOTc5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
